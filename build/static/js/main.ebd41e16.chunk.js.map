{"version":3,"sources":["components/ProtectedRoute.js","components/Login.js","components/Register.js","images/success.svg","images/reject.svg","components/InfoTooltip.js","images/logo.svg","components/Header.js","images/update.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/DeleteCardPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","Login","onLogin","React","useState","email","setEmail","password","setPassword","className","name","onSubmit","evt","preventDefault","value","onChange","target","placeholder","type","Register","onRegister","data","setData","handleChange","e","InfoTooltip","isOpen","onClose","isSuccessfulReg","title","aria-label","onClick","alt","src","successIcon","rejectIcon","Header","onSignOut","logo","path","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","update","avatar","about","map","Footer","Date","getFullYear","PopupWithForm","children","buttonText","noValidate","EditAvatarPopup","onUpdateAvatar","isSaving","avatarRef","useRef","submitButton","useEffect","current","ref","required","EditProfilePopup","onUpdateUser","setName","description","setDescription","minLength","maxLength","DeleteCardPopup","AddPlacePopup","setLink","submitButtonText","ImagePopup","id","api","baseUrl","this","_baseUrl","res","ok","json","Promise","reject","status","fetch","method","headers","credentials","then","_checkResponse","body","JSON","stringify","BASE_URL","checkResponse","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsSaving","cardDelete","setCardDelete","isDeleteCardPopupOpen","setDeleteCardPopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","setLoggedIn","initialData","setInitialData","setIsSuccessfulReg","history","useHistory","closeAllPopups","all","getUserInfo","getInitialCards","userData","cardsArray","catch","err","console","log","tokenCheck","useCallback","push","Provider","exact","changeLikeCardStatus","newCard","state","c","auth","finally","patchProfileAvatar","user","patchProfileInfo","postCard","deleteCard","prevCardsState","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ebd41e16.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","import React from \"react\";\r\n\r\nfunction Login({ onLogin }) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleChangeEmail(evt){\r\n    setEmail(evt.target.value);\r\n  }\r\n\r\n  function handleChangePassword(evt) {\r\n    setPassword(evt.target.value);\r\n  }\r\n\r\n  function handleLoginSubmit(evt) {\r\n    evt.preventDefault();\r\n    onLogin({ email, password });\r\n  }\r\n\r\n    return (\r\n      <form className=\"start-page\" name=\"form\" onSubmit={handleLoginSubmit}>\r\n        <h2 className=\"start-page__title\">Вход</h2>\r\n        <input\r\n          className=\"start-page__input\"\r\n          value={email}\r\n          onChange={handleChangeEmail}\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          type=\"email\"\r\n        />\r\n        <input\r\n          className=\"start-page__input\"\r\n          value={password}\r\n          onChange={handleChangePassword}\r\n          name=\"password\"\r\n          placeholder=\"Пароль\"\r\n          type=\"password\"\r\n        />\r\n        <button className=\"start-page__button\" type=\"submit\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    );\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register({ onRegister }) {\r\n  const registerData = {\r\n    password: '',\r\n    email: ''\r\n  }\r\n  const [data, setData] = React.useState(registerData)\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target\r\n        setData(data => ({\r\n          ...data,\r\n          [name]: value,\r\n        }))\r\n      }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        onRegister(data)\r\n    }\r\n\r\n    return (\r\n      <form className=\"start-page\" name=\"form\" onSubmit={handleSubmit}>\r\n        <h2 className=\"start-page__title\">Регистрация</h2>\r\n        <input\r\n          className=\"start-page__input\"\r\n          value={data.email}\r\n          onChange={handleChange}\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          type=\"email\"\r\n        />\r\n        <input\r\n          className=\"start-page__input\"\r\n          value={data.password}\r\n          onChange={handleChange}\r\n          name=\"password\"\r\n          placeholder=\"Пароль\"\r\n          type=\"password\"\r\n        />\r\n        <button className=\"start-page__button\" type=\"submit\">\r\n          Зарегистрироваться\r\n        </button>\r\n        <Link className=\"start-page__link\" to=\"/signin\">\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </form>\r\n    );\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/reject.df8eddf6.svg\";","import React from \"react\";\r\nimport successIcon from \"../images/success.svg\";\r\nimport rejectIcon from \"../images/reject.svg\";\r\n\r\nfunction InfoTooltip({ isOpen, onClose, isSuccessfulReg, title }) {\r\n  return (\r\n    <section className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          className=\"popup__close-button \"\r\n          aria-label=\"close\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <img\r\n          className=\"popup__icon\"\r\n          alt=\"Проверка регистрации\"\r\n          src={isSuccessfulReg ? successIcon : rejectIcon}\r\n        ></img>\r\n        <p className=\"popup__message\">{title}</p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","export default __webpack_public_path__ + \"static/media/logo.5f3664ca.svg\";","import React from \"react\";\r\nimport logo from '../images/logo.svg';\r\nimport { Link, Route } from \"react-router-dom\";\r\n\r\nfunction Header({ onSignOut, email }) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"Место\" className=\"header__logo\" />\r\n      <Route path=\"/\">\r\n        <div className=\"header__container\">\r\n        <p className=\"header__email\">{email}</p>\r\n        <button onClick={onSignOut} to=\"/signup\" className=\"header__sign-out\">\r\n          Выйти\r\n        </button>\r\n        </div>\r\n      </Route>\r\n      <Route path=\"/signin\">\r\n        <Link to=\"/signup\" className=\"header__sign\">\r\n          Регистрация\r\n        </Link>\r\n      </Route>\r\n      <Route path=\"/signup\">\r\n        <Link to=\"/signin\" className=\"header__sign\">\r\n          Войти\r\n        </Link>\r\n      </Route>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/update.a086f758.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete, }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    const isOwn = card.owner === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__remove ${isOwn ? 'element__remove-visible' : 'element__remove-hidden'}`\r\n      );\r\n    const isLiked = card.likes.some(i => i === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `element__heart ${isLiked ? 'element__heart-active' : 'element__heart'}`\r\n      ); \r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n      } \r\n    \r\n    function handleLikeClick() {\r\n        onCardLike(card);\r\n    };\r\n\r\n    const handleDeleteClick = () => {\r\n        onCardDelete(card);\r\n      };\r\n\r\n      return (\r\n        <article className=\"element\">\r\n          <div className=\"element__front\">\r\n            <button\r\n              className={cardDeleteButtonClassName}\r\n              onClick={handleDeleteClick}\r\n              aria-label=\"remove\"\r\n              type=\"button\"\r\n            ></button>\r\n            <img\r\n              className=\"element__photo\"\r\n              src={card.link}\r\n              alt={card.name}\r\n              onClick={handleClick}\r\n            />\r\n          </div>\r\n          <div className=\"element__group\">\r\n            <p className=\"element__text\">{card.name}</p>\r\n            <div className=\"element__info\">\r\n              <button\r\n                className={cardLikeButtonClassName}\r\n                onClick={handleLikeClick}\r\n                aria-label=\"like\"\r\n                type=\"button\"\r\n              ></button>\r\n              <p className=\"element__number\">{card.likes.length}</p>\r\n            </div>\r\n          </div>\r\n        </article>\r\n      );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport update from '../images/update.svg';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, cards, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__group\" onClick={onEditAvatar}>\r\n          <span className=\"profile__opacity\">\r\n            <img className=\"profile__update\" src={update} alt=\"Обновить\"></img>\r\n          </span>\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={currentUser.avatar}\r\n            alt={currentUser.name}\r\n          ></img>\r\n        </div>\r\n        <div className=\"profile__text\">\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <p className=\"profile__job\">{currentUser.about}</p>\r\n          </div>\r\n          <button\r\n            className=\"profile__edit\"\r\n            aria-label=\"edit\"\r\n            type=\"button\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          type=\"button\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {cards.map(card => \r\n          <Card\r\n            key={card._id}\r\n            onCardClick={onCardClick}\r\n            card={card}\r\n            onCardLike={onCardLike}\r\n            onCardDelete={onCardDelete}\r\n          />\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__copyright'>&copy; {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nfunction PopupWithForm({ isOpen, onClose, title, onSubmit, children, buttonText }) {\r\n  return (\r\n    <section className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          className=\"popup__close-button \"\r\n          aria-label=\"close\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <h1 className=\"popup__title\">{title}</h1>\r\n        <form className=\"popup__form\" name=\"form\" onSubmit={onSubmit} noValidate>\r\n          {children}\r\n          <button className=\"popup__button\" type=\"submit\">\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onUpdateAvatar, onClose, isSaving }) {\r\n  const avatarRef = React.useRef();\r\n  const submitButton = isSaving ? 'Сохранение...' : 'Обновить';\r\n\r\n  React.useEffect(() => {\r\n    avatarRef.current.value = '';\r\n}, [isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"avatar\"\r\n      isOpen={isOpen ? \"popup_opened\" : \"\"}\r\n      onClose={onClose}\r\n      buttonText={submitButton}\r\n      onSubmit={handleSubmit}\r\n      isSaving={isSaving}\r\n    >\r\n      <input\r\n        ref={avatarRef}\r\n        className=\"popup__info\"\r\n        placeholder=\"Новый аватар\"\r\n        type=\"url\"\r\n        name=\"avatar\"\r\n        required\r\n      />\r\n      <span className=\"avatar-error popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isSaving }) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const submitButton = isSaving ? 'Сохранение...' : 'Создать';\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  const handleChangeName = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleChangeDescription = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"profile\"\r\n      isOpen={isOpen ? \"popup_opened\" : \"\"}\r\n      onClose={onClose}\r\n      buttonText={submitButton}\r\n      onSubmit={handleSubmit}\r\n      isSaving={isSaving}\r\n    >\r\n      <input\r\n        value={name || \"\"}\r\n        onChange={handleChangeName}\r\n        className=\"popup__info\"\r\n        placeholder=\"Имя\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n      />\r\n      <span className=\"name-error popup__input-error\"></span>\r\n      <input\r\n        value={description || \"\"}\r\n        onChange={handleChangeDescription}\r\n        className=\"popup__info\"\r\n        placeholder=\"Занятие\"\r\n        type=\"text\"\r\n        name=\"job\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n      />\r\n      <span className=\"job-error popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteCardPopup({ isSaving, onCardDelete, card, isOpen, onClose }) {\r\n    const submitButton = isSaving ? 'Удаление...' : 'Да';\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            title=\"Вы уверены?\" \r\n            name=\"delete\" \r\n            isOpen={isOpen} \r\n            onClose={onClose} \r\n            onSubmit={handleSubmit} \r\n            buttonText={submitButton}>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default DeleteCardPopup;","import React from \"react\";\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isSaving, isOpen, onAddPlace, onClose }) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n  const submitButtonText = isSaving ? 'Сохранение...' : 'Создать';\r\n\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n}, [isOpen]);\r\n\r\n  const handleChangeName = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleChangeLink = (e) => {\r\n    setLink(e.target.value);\r\n  };\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"window\"\r\n      isOpen={isOpen ? \"popup_opened\" : \"\"}\r\n      onClose={onClose}\r\n      buttonText={submitButtonText}\r\n      onSubmit={handleSubmit}\r\n      isSaving={isSaving}\r\n    >\r\n      <input\r\n        value={name}\r\n        onChange={handleChangeName}\r\n        className=\"popup__info\"\r\n        placeholder=\"Название\"\r\n        type=\"text\"\r\n        name=\"denomination\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n      />\r\n      <span className=\"denomination-error popup__input-error\"></span>\r\n      <input\r\n        value={link}\r\n        onChange={handleChangeLink}\r\n        className=\"popup__info\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        type=\"url\"\r\n        name=\"link\"\r\n        required\r\n      />\r\n      <span className=\"link-error popup__input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\n\r\nfunction ImagePopup({ isOpen, name, onClose, card }) {\r\n    return (\r\n        <section className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n            <div className=\"popup__container\" id={`${name}-container`}>\r\n                <button \r\n                    className=\"popup__close-button\" \r\n                    aria-label=\"close\" \r\n                    type=\"button\" \r\n                    onClick={onClose}></button>\r\n                <img className=\"popup__photo\" src={card.link} alt={card.name} />\r\n                <p className=\"popup__text\">{card.name}</p>\r\n            </div>\r\n        </section>\r\n    )\r\n  }\r\n  \r\n  export default ImagePopup;","class Api {\r\n  constructor({baseUrl}) {\r\n    this._baseUrl = baseUrl;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n      if (res.ok) {\r\n          return res.json();\r\n      }\r\n      return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n    getInitialCards() {\r\n      return fetch(`${this._baseUrl}cards`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include',\r\n      })  \r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getUserInfo(){\r\n    return fetch(`${this._baseUrl}users/me`, {  \r\n      method: 'GET',  \r\n      headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    credentials: 'include',\r\n})\r\n    .then(this._checkResponse)\r\n}\r\n\r\n  postCard(data) {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify(data)\r\n      })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  deleteCard(data) {\r\n    return fetch(`${this._baseUrl}cards/${data}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      credentials: 'include',\r\n      })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  patchProfileInfo(data){\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    credentials: 'include',\r\n    body: JSON.stringify(data)\r\n    })\r\n    .then(this._checkResponse)\r\n}\r\n\r\npatchProfileAvatar(data){\r\n  return fetch(`${this._baseUrl}users/me/avatar`, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    credentials: 'include',\r\n    body: JSON.stringify({\r\n      avatar: data.avatar\r\n    })\r\n    })\r\n    .then(this._checkResponse)\r\n}\r\n\r\nchangeLikeCardStatus(id, isLiked) {\r\n  return fetch(`${this._baseUrl}cards/${id}/likes`, {\r\n    method: isLiked ? 'DELETE' : 'PUT',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    credentials: 'include',\r\n  }).then(this._checkResponse);\r\n}\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: \"https://api.julia.p.nomoredomains.monster/\",\r\n  });\r\n\r\nexport default api;\r\n","const BASE_URL = 'https://api.julia.p.nomoredomains.monster/';\r\n\r\nconst checkResponse = (res) => {\r\n  if (!res.ok) {\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n  return res.json();\r\n};\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({\r\n        \"email\": email,\r\n        \"password\": password,\r\n      }),\r\n    })\r\n    .then(res => checkResponse(res));\r\n  };\r\n\r\n  export const authorize = (data) => {\r\n    return fetch(`${BASE_URL}signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({\r\n        \"email\": data.email,\r\n        \"password\": data.password,\r\n      }),\r\n    })\r\n    .then(res => checkResponse(res));\r\n  };\r\n\r\n  export const getContent = () => {\r\n    return fetch(`${BASE_URL}users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n    })\r\n    .then(res => checkResponse(res));\r\n  };\r\n","import React from 'react';\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport DeleteCardPopup from './DeleteCardPopup';\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from '../utils/api';\nimport * as auth from '../utils/auth';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isSaving, setIsSaving] = React.useState(false);\n  const [cardDelete, setCardDelete] = React.useState({});\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [initialData, setInitialData] = React.useState({\n    email: '',\n    password: ''\n  })\n  const [isSuccessfulReg, setIsSuccessfulReg] = React.useState(false);\n  const history = useHistory();\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([userData, cardsArray]) => {\n        setCurrentUser(userData);\n        setCards(cardsArray);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n   }\n }, [loggedIn]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      isOpen: true, \n      link: card.link, \n      name: card.name\n    });\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({isOpen: false});\n    setDeleteCardPopupOpen(false);\n    setInfoTooltipOpen(false);\n  }\n\n  function handleUpdateUser(user) {\n    setIsSaving(true);\n    api.patchProfileInfo(user)\n      .then((user) => {\n        setCurrentUser(user);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsSaving(false);\n      })\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setIsSaving(true);\n    api.patchProfileAvatar(avatar)\n      .then((avatar) => {\n        setCurrentUser(avatar)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsSaving(false);\n      })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked)\n    .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  function handleCardDelete(card) {\n    setIsSaving(true);\n    api.deleteCard(card._id)\n    .then(() => {\n      setCards((prevCardsState) => prevCardsState.filter((c) => c._id !== card._id));\n      closeAllPopups()\n  })\n  .catch((err) => {\n    console.log(err);\n  })\n  .finally(() => {\n    setIsSaving(false);\n  })\n}\n\nfunction handleAddPlaceSubmit(card) {\n  setIsSaving(true);\n  api.postCard(card)\n    .then((newCard) => {\n      setCards([newCard, ...cards])\n      closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    .finally(() => {\n      setIsSaving(false);\n    })\n}\n\nfunction handleDeleteCardClick(card) {\n  setDeleteCardPopupOpen(true);\n  setCardDelete(card);\n}\n\nconst handleRegister = ({ email, password }) => {\n  return auth.register(email, password)\n  .then((res) => {\n    setIsSuccessfulReg(true);\n    history.push('/signin')\n    return res\n  })\n  .catch((err) => {\n    console.log(err);\n    setIsSuccessfulReg(false);\n  })\n  .finally(() => {\n    setInfoTooltipOpen(true)\n  })\n}\n\nconst handleLogin = (data) => {\n  return auth.authorize(data)\n  .then((res) => {\n    setInitialData({\n      email: res.email,\n      password: res.password\n    })\n    setLoggedIn(true)\n    history.push('/')\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n\nconst tokenCheck = React.useCallback(() => {\n    auth.getContent()\n    .then((res) => {\n      setInitialData({\n        email: res.email,\n        password: res.password\n      })\n      setLoggedIn(true);\n      history.push('/')\n      })\n    .catch((err) => {\n      console.log(err);\n      history.push('/signin')\n    });\n}, [history])\n\nReact.useEffect(() => {\n  tokenCheck()\n}, [tokenCheck])\n\nconst handleSignOut = () => {\n  setLoggedIn(false)\n  history.push('/signin')\n}\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"page\">\n        <Header onSignOut={handleSignOut} loggedIn={loggedIn} email={initialData.email}/>\n        <Switch>\n          <ProtectedRoute exact path=\"/\"\n            component={Main}\n            loggedIn={loggedIn}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleDeleteCardClick}\n            cards={cards}\n          />\n          <Route path=\"/signup\">\n            <Register onRegister={handleRegister}/>\n          </Route>\n          <Route path=\"/signin\">\n            <Login onLogin={handleLogin}/>\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n        </Switch>\n        <Route path=\"/\" exact>\n          <Footer />\n        </Route>\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            isSaving={isSaving}\n          />\n          \n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            isSaving={isSaving}\n          />\n          \n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n            isSaving={isSaving}\n          />\n          \n          <DeleteCardPopup \n          card={cardDelete}\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n          isSaving={isSaving}\n        />\n          \n          <ImagePopup\n            isOpen={selectedCard.isOpen}\n            name=\"photo\"\n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n\n          <InfoTooltip \n            isOpen={isInfoTooltipOpen}\n            onClose={closeAllPopups}\n            isSuccessfulReg={isSuccessfulReg}\n            title={isSuccessfulReg ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}\n          />\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}